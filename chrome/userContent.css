@import "neptune/colors/light.css";
@import "neptune/colors/dark.css";

:root {
	--in-content-page-background: var(--neptune-main-background) !important;
	--in-content-box-background: var(--neptune-content-background) !important;
	--in-content-table-background: var(--neptune-content-background) !important;
	--in-content-primary-button-text-color: #fff !important;
	--background-color-box: var(--neptune-content-background) !important;
	--newtab-primary-element-text-color: #fff !important;
	--in-content-item-hover: var(--neptune-item-hover-background) !important;
	--in-content-box-border-color: var(--neptune-toolbar-border-color) !important;
	--newtab-background-color: var(--neptune-main-background) !important;
	--newtab-background-color-secondary: var(--neptune-content-background) !important;
	--sidebar-toolbar-bg-color: var(--neptune-main-background) !important;
	--thumbnail-hover-color: var(--theme-primary-hover-color) !important;
	--thumbnail-selected-color: var(--theme-primary-active-color) !important;
	--checkbox-checked-bgcolor: var(--theme-primary-color) !important;
	--checkbox-checked-hover-bgcolor: var(--theme-primary-hover-color) !important;
	--checkbox-checked-active-bgcolor: var(--theme-primary-active-color) !important;
	--in-content-button-background-hover: light-dark(#0000000c, #ffffff0c) !important;
	--in-content-button-background-active: light-dark(#00000019, #ffffff19) !important;
	--in-content-primary-button-background: var(--theme-primary-color) !important;
	--in-content-primary-button-background-hover: var(--theme-primary-hover-color) !important;
	--in-content-primary-button-background-active: var(--theme-primary-active-color) !important;
	--in-content-focus-outline-color: var(--theme-primary-color) !important;
	--focus-outline-color: var(--theme-primary-color) !important;
	--link-color: var(--theme-primary-color) !important;
	--link-color-hover: var(--theme-primary-hover-color) !important;
	--link-color-active: var(--theme-primary-active-color) !important;
	--link-color-visited: mediumpurple !important;
	--brand-color-accent: var(--theme-primary-color) !important;
	--brand-color-accent-hover: var(--theme-primary-hover-color) !important;
	--brand-color-accent-active: var(--theme-primary-active-color) !important;
	--newtab-primary-action-background: var(--theme-primary-color) !important;
	--color-accent-primary: var(--theme-primary-color) !important;
	--default-focusring: none !important;
}

.toggle-button {
	--toggle-background-color-pressed: var(--neptune-switch-pressed-background) !important;
	--toggle-background-color-pressed-hover: var(--neptune-switch-pressed-hover-background) !important;
	--toggle-background-color-pressed-active: var(--neptune-switch-pressed-active-background) !important;
	--toggle-dot-background-color-on-pressed: #fff !important;
}

menulist > menupopup {
	--panel-border-radius: 6px !important;

	> menu,
	> menuitem {
		padding-block: 2px !important;
	}

	menuseparator {
		border: none !important;
	}
}

@-moz-document url-prefix(about:) {
	* {
		--in-content-page-background: var(--neptune-main-background) !important;
		--popup-background: var(--neptune-menu-background) !important;
		--popup-button-background: var(--neptune-item-background) !important;
		--popup-button-background-hover: var(--neptune-item-hover-background) !important;
		--popup-button-background-active: var(--neptune-item-active-background) !important;
		--page-nav-button-background-color-hover: var(--neptune-item-hover-background) !important;
		--page-nav-button-background-color-selected: transparent !important;
		--toolbar-button-background-hover: var(--neptune-item-hover-background) !important;
		--toolbar-button-background-active: var(--neptune-item-active-background) !important;
		--toolbar-button-foreground-active: var(--theme-primary-color) !important;
		--primary-color: var(--theme-primary-color) !important;
		--panel-border-radius: 6px !important;
		--panel-shadow-margin: 14px !important;
		--panel-border-color: var(--neptune-toolbar-border-color) !important;
		--fxview-background-color: var(--neptune-main-background) !important;
		--newtab-search-icon: url("chrome://global/skin/icons/search-glass.svg") !important;
	}

	.sticky-container {
		background-color: color-mix(in srgb, var(--in-content-page-background) 33%, transparent) !important;
		backdrop-filter: blur(12px);
		mask-image: linear-gradient(to top, transparent 6%, black 24%);
	}

	dialog,
	.dialogBox {
		background-color: var(--neptune-content-background);
		border: 1px solid var(--neptune-toolbar-border-color) !important;
		border-radius: 12px !important;
		box-shadow: var(--neptune-normal-box-shadow) !important;
	}

	dialog::backdrop,
	.dialogOverlay[topmost="true"] {
		background-color: transparent !important;
		backdrop-filter: blur(8px);
	}

	#categories {
		margin-top: 64px !important;

		> .category {
			background: none !important;
			background-image: none !important;
			margin-inline-start: 18px !important;

			&:hover {
				color: var(--theme-primary-hover-color) !important;
			}
		}
	}

	.sidebar-footer-link:hover {
		background: none !important;
		color: var(--theme-primary-hover-color) !important;
	}

	.face-sad::before {
		content: "\2602" !important;
		font-size: 1em !important;
	}

	.face-smile::before {
		content: "\2764" !important;
		font-size: 1em !important;
	}

	.featureGate {
		border-radius: 12px !important;
		box-shadow: none !important;
	}

	.back-button,
	.default-button,
	.primary-button,
	.more-options-button,
	.info-box-container,
	.web-appearance-choice,
	.action-box, panel-listï¼Œ
	table, div.opsRow {
		border-radius: 8px !important;
	}

	input[type="search"]:not(.search-handoff-button, .search-wrapper input),
	search-textbox {
		background-color: var(--neptune-input-bgcolor) !important;
		min-height: 22px !important;
		font-size: .8em !important;
		border: none !important;
		border-radius: 6px !important;
		outline: 16px solid transparent !important;

		&:is(:focus-visible, [focused]) {
			outline: 4px solid var(--neptune-focused-urlbar-border-color) !important;
			outline-offset: -2px;
			transition: all .2s cubic-bezier(0.3, 0, 0.66, 1);
		}
	}

	.search-tooltip {
		background-color: var(--theme-primary-color) !important;
		border: none !important;
		box-shadow: var(--neptune-panel-shadow);
		color: #fff !important;

		&::before, &::after {
			border-top-color: var(--theme-primary-color) !important;
		}
	}

	.addon.card {
		border: 1px solid var(--neptune-toolbar-border-color) !important;
		border-radius: 12px !important;
		box-shadow: none !important;

		&:hover {
			box-shadow: 0 0 2px var(--neptune-panel-shadow-color) !important;
		}
	}

	.text-link,
	a {
		text-decoration: none !important;
	}

	.info-box-container {
		background-color: transparent !important;
	}

	#downloadsListBox > richlistitem {
		min-height: 3em !important;
	}

	#downloadsListBox:focus > richlistitem[selected] {
		background-color: var(--neptune-urlbar-View-hover-background) !important;
		color: #fff !important;
		border-radius: 0 !important;
		background-image: none !important;
		outline: none !important;
	}

	.downloadButton > .button-box {
		border-radius: 50% !important;
	}

	.stp_button_wide .stp_button {
		padding-block: 4px !important;
		border-radius: 6px !important;
	}

	input[type=checkbox],
	.checkbox-check:not([native]) {
		appearance: none !important;
		background-color: transparent !important;
		margin-block: 0 !important;
		border: 2px solid var(--neptune-toolbar-border-color);
		border-radius: 4px;

		&:is(:checked, [checked="true"]) {
			background-color: var(--neptune-switch-pressed-background) !important;
			background-image: url("neptune/icons/check.svg") !important;
			border: none;
		}
	}

	input[type=radio]:not(.wallpaper-input),
	.radio-check {
		appearance: none !important;
		background-color: transparent !important;
		border-radius: 50%;
		border: 2px solid var(--neptune-toolbar-border-color);

		&:is(:checked, [selected="true"]) {
			background-color: var(--neptune-switch-pressed-background) !important;
			background-image: url("neptune/icons/radio.svg");
			border: none;
		}
	}

	.textbox-search-sign,
	.textbox-search-icon,
	.permission-icon,
	.category-icon,
	.dialogClose,
	.sidebar-footer-icon {
		display: none !important;
	}
}

@-moz-document url("about:home"), url("about:newtab"), url("about:welcome"), url("about:privatebrowsing") {
	.non-collapsible-section {
		padding: 0 !important;

		.search-wrapper {
			display: flex;
			align-items: center;

			.logo-and-wordmark {
				margin: 0 12px 8px 0 !important;
			}
		}

		.search-inner-wrapper {
			min-height: 48px !important;
			z-index: 1;
		}
	}

	.search-wrapper input,
	.search-handoff-button {
		background-color: light-dark(#f6f6f633, #26262633) !important;
		backdrop-filter: blur(4px);
		background-size: 24px !important;
		border: 1px solid var(--neptune-toolbar-border-color) !important;
		box-shadow: none !important;
		border-radius: 12px !important;
		transition: background-color .3s ease;

		&:is(:hover, :active) {
			background-color: light-dark(#f6f6f644, #26262644) !important;
		}
	}

	.search-handoff-button .fake-caret {
		top: 13px !important;
		height: 20px !important;
	}

	.contentSearchSuggestionTable {
		border-radius: 12px !important;
		background-color: var(--neptune-popover-background) !important;
		backdrop-filter: blur(35px);
		box-shadow: var(--neptune-normal-box-shadow) !important;

		.contentSearchHeader,
		.contentSearchOneOffsTable {
			border: none !important;
			background-color: var(--neptune-popover-background) !important;
			backdrop-filter: blur(35px);
		}

		.contentSearchOneOffItem {
			border: none !important;
			border-radius: 6px !important;
			margin: 2px 7px !important;
			padding-bottom: 2px !important;
			height: 24px !important;
			width: 24px !important;
		}

		.contentSearchOneOffItem.selected,
		.contentSearchSuggestionRow.selected {
			background: var(--neptune-item-hover-background) !important;
		}

		.contentSearchOneOffItem:active,
		.contentSearchSuggestionRow.selected:active {
			background: var(--neptune-item-active-background) !important;
		}
	}

	.search-button,
	.logo-and-wordmark,
	.info, .promo,
	.top-site-outer .title .icon,
	.home-section .divider,
	.home-section .section .check-wrapper,
	.wallpaper-attribution,
	.customize-menu .close-button-wrapper,
	.contentSearchHeaderRow > td > img,
	.contentSearchSuggestionTable .contentSearchSettingsButton,
	.top-site-outer .title .sponsored-label	{
		display: none !important;
	}
}

@-moz-document url("about:privatebrowsing") {
	body {
		background: url("neptune/image/Pink.png") center/cover no-repeat fixed;
	}

	.private .search-inner-wrapper {
		padding: 0 !important;
	}

	.fake-textbox {
		color: FieldText !important;
	}
}

@-moz-document url("about:home"), url("about:newtab"), url("about:welcome") {
	body {
		background: url("neptune/image/Orange.png") center/cover no-repeat fixed !important;

		@media (prefers-color-scheme: dark) {
			background: url("neptune/image/Blue.png") center/cover no-repeat fixed !important;
		}
	}

	* {
		cursor: auto !important;
	}

	.top-site-outer {
		margin-block-end: 0 !important;

		.tile {
			height: 65px !important;
			width: 65px !important;
			background-color: var(--neptune-content-background) !important;
			border-radius: 12px !important;
			box-shadow: var(--neptune-panel-shadow) !important;

			.icon-wrapper:not(.top-site-outer.placeholder.add-button .tile .icon-wrapper) {
				width: 100% !important;
				height: 100% !important;
				border-radius: 10px !important;
			}
		}
	}

	.top-sites-list:not(.dnd-active) .top-site-outer:is(.active, :focus, :hover) {
		background: none !important;
	}

	.top-site-outer .search-topsite {
		background-color: var(--theme-primary-color) !important;
		background-size: 12px !important;
		height: 24px !important;
		width: 24px !important;
	}

	.top-site-outer .context-menu-button {
		background-color: transparent !important;
		transform: translate(-24px, 12px);
	}

	.context-menu {
		background-color: var(--neptune-popover-background) !important;
		backdrop-filter: blur(22px);
		border: 1px solid var(--neptune-toolbar-border-color);
		border-radius: 8px !important;
		box-shadow: var(--neptune-normal-box-shadow) !important;
		transform: translate(-24px, -6px);

		> ul > li > a,
		> ul > li > button {
			font-size: .85em !important;
		}

		> ul > li.separator {
			border-color: var(--neptune-toolbar-border-color) !important;
		}
	}

	.modalOverlayOuter {
		background: none !important;
	}

	.edit-topsites-wrapper .modal {
		border-radius: 12px !important;
		box-shadow: var(--neptune-normal-box-shadow) !important;
		width: 36em !important;
		top: 8em !important;
	}

	.actions {
		border: none !important;
		padding: 0 25px !important;
	}

	.button,
	.actions button {
		border-radius: 6px !important;
		margin-bottom: 20px !important;
		box-shadow: none !important;
		padding: 2px 12px !important;
		font-size: 12.5px !important;
	}

	.topsite-form .form-wrapper input[type=text] {
		border-radius: 5px !important;
		height: 22px !important;
		font-size: 12.5px !important;
	}

	.topsite-form .top-site-outer {
		margin-top: 8px !important;
	}

	.personalize-button {
		padding: 0 !important;
		background-size: 28px !important;
		background-color: transparent !important;
		fill: MenuText !important;
		opacity: .8;

		&:is(:hover, :active) {
			background-color: transparent !important;
			opacity: 1;
		}
	}

	.personalize-button.personalize-animate-exit-done {
		visibility: visible !important;
	}

	.icon.icon-settings {
		background-image: url("neptune/icons/settings.svg") !important;
		width: 28px !important;
		height: 28px !important;
	}

	@media (height < 700px) {
		.personalizeButtonWrapper {
			top: 92vh !important;
		}
	}

	@media (height >=700px) {
		.personalizeButtonWrapper {
			top: 95vh !important;
		}
	}

	.customize-menu {
		width: 18em !important;
		height: 20em !important;
		top: calc(95vh - 10px) !important;
		right: 20px !important;
		padding: 12px 0 !important;
		border-radius: 12px !important;
		transform: translateY(100%) !important;
		background-color: var(--neptune-popover-background) !important;
		backdrop-filter: blur(22px);

		@media (height < 700px) {
			top: calc(92vh - 10px) !important;
		}
	}

	.customize-menu.customize-animate-enter-done,
	.customize-menu.customize-animate-enter-active {
		transform: translateY(-100%) !important;
	}

	.home-section {
		grid-row-gap: 8px !important;
		padding: 0 12px !important;

		.section .selector {
			background-color: var(--neptune-item-background) !important;
			border: none !important;
			border-radius: 6px !important;
			width: 70px !important;
			padding: 3px 5px !important;
			margin-top: 5px !important;
		}

		.section moz-toggle {
			margin-bottom: 10px !important;
		}

		.external-link {
			background: none !important;
			text-decoration: none !important;
			padding: 0 !important;
			margin: 0 !important;

			&:hover {
				color: var(--theme-primary-color) !important;
			}
		}
	}

	.arrow-button {
		margin: 0 0 5px 10px !important;
		padding-inline-start: 18px !important;
	}

	.wallpaper-list.category {
		background-color: var(--neptune-content-background) !important;
		inset-inline-start: 0 !important;
		margin: 0 !important;
		width: 100% !important;
	}

	.wallpaper-list.category fieldset {
		gap: 24px !important;
		grid-auto-rows: 32px !important;
		grid-template-columns: 1fr 1fr 1fr !important;
	}

	.category-list {
		grid-auto-rows: 48px !important;
	}

	.wallpaper-input {
		height: 40px !important;
		cursor: default !important;

		&:checked {
			outline: none !important;
			filter: brightness(30%);
			padding: 0 !important;
		}
	}

	.wallpapers-reset {
		margin-top: 4px !important;
		text-decoration: none !important;
		font-size: .7em !important;

		&:hover {
			color: var(--theme-primary-color) !important;
		}
	}

	.category-list label,
	.text-deemphasized {
		font-size: .7em !important;
	}

	.top-site-button[href="https://www.youtube.com/"] .top-site-icon {
		background-image: url("chrome://activity-stream/content/data/content/tippytop/images/youtube-com@2x.png") !important;
	}

	.top-site-button[href="https://www.reddit.com/"] .top-site-icon {
		background-image: url("chrome://activity-stream/content/data/content/tippytop/images/reddit-com@2x.png") !important;
	}
}

@-moz-document url-prefix(about:reader) {
	.toolbar {
		border: none !important;
		padding: 0 !important;
		box-shadow: none !important;
	}

	.toolbar-button {
		border-radius: 50% !important;
	}

	.text-size-buttons > button,
	.accordion-header .chevron-icon	{
		height: 20px !important;
		width: 20px !important;
		background-size: 12px;
		border-radius: 50% !important;
	}

	.dropdown .dropdown-popup {
		background: var(--neptune-popover-background) !important;
		backdrop-filter: blur(24px);
		border: 1px solid var(--neptune-toolbar-border-color) !important;
		border-radius: 12px !important;
		box-shadow: var(--neptune-normal-box-shadow) !important;

		hr {
			border-top: none !important;
			margin-block: 0 !important;
		}
	}

	#text-layout-controls {
		width: 18em !important;
		padding-block-end: 0 !important;
		font-size: 12.5px !important;
	}

	.slider-label {
		margin-block-end: 2px;
	}

	.dropdown-selector > select {
		min-height: 22px !important;
		font-weight: unset !important;
		background-size: 12px;
	}

	.text-alignment-buttons {
		gap: var(--space-small) !important;

		> label {
			min-height: 22px !important;
			border-radius: 5px !important;

			&[checked] {
				color: #fff !important;
			}
		}
	}

	.container {
		gap: unset !important;
	}

	button-group {
		padding-block: 0 !important;
	}

	button[is="named-deck-button"] {
		border-top: none !important;
	}

	#color-controls {
		width: 22em !important;
		padding-block-end: 7px !important;
	}

	.color-input-container {
		min-height: 26px !important;
		border-radius: 7px !important;
	}

	.colors-menu-color-scheme-buttons > label {
		height: 28px !important;
		border-radius: 7px !important;
		font-size: 10.5px !important;

		&:before {
			width: 16px !important;
			height: 16px !important;
		}
	}

	#color-swatch {
		width: 24px !important;
		height: 24px !important;
	}

	.custom-colors-selection,
	.reset-button {
		text-decoration: none !important;
		font-size: 10.5px !important;
	}

	datalist,
	.hover-label,
	.icon-container,
	.dropdown .dropdown-popup h2 {
		display: none !important;
	}
}

@-moz-document url-prefix(about:firefoxview) {
	.search-container {
		border: none !important;
		border-radius: 6px !important;
		height: 24px;
		margin-top: 3px;
	}

	.search-container input {
		background-color: var(--neptune-input-bgcolor) !important;
		padding-inline-start: 10px !important;
	}

	.search-icon {
		display: none !important;
	}

	.sticky-container.bottom-fade {
		background: transparent !important;
		backdrop-filter: blur(8px);
		flex-direction: row !important;
		margin: 0 4px !important;
		padding-block: 18px !important;
	}
}

@-moz-document regexp(".*\\.pdf") {
	.thumbnail,
	.toolbarButton,
	.dropdownToolbarButton,
	.dropdownToolbarButton > select,
	.dialogButton {
		border-radius: 7px !important;
	}

	.secondaryToolbarButton {
		margin: 1px 5px !important;
		min-width: 95% !important;
		border-radius: 4px !important;
	}

	#sidebarContainer,
	#toolbarContainer,
	#toolbarSidebar {
		box-shadow: none !important;
		border: none !important;
	}

	#sidebarContent {
		box-shadow: none !important;
		border-right: 1px solid var(--neptune-sidebar-border-color);
	}

	.toolbarField {
		padding: 0 5px !important;
		margin-top: 7px !important;
		border-radius: 4px !important;
	}

	.secondaryToolbar,
	.editorParamsToolbar {
		padding: 0 0 5px !important;
		border-radius: 7px !important;
		box-shadow: var(--neptune-normal-box-shadow) !important;
	}

	.editorParamsToolbarContainer .editorParamsColor {
		width: 16px !important;
		height: 16px !important;
		border: none;
	}

	.pdfViewer .page {
		margin-bottom: 30px !important;
		border: none !important;
		box-shadow: var(--neptune-normal-box-shadow) !important;
	}

	.splitToolbarButtonSeparator,
	.verticalToolbarSeparator {
		display: none !important;
	}
}

@-moz-document media-document(image) {
	@media not print {
		:root {
			background-color: var(--neptune-main-background) !important;
			background-image: none !important;
		}
	}
}

div.sponsor,
.pip-wrapper {
	display: none !important;
}

.container {
	border-radius: 12px !important;
}

.dialog-button-box > button {
	font-size: .9em !important;
	min-height: 24px !important;
	height: 24px !important;
	margin-top: 6px !important;
	border-radius: 6px !important;
}

.dialogTitleBar,
separator.groove:not([orient="vertical"]) {
	border: none !important;
}

::selection {
	background: light-dark(#b3d7fe, #324f6f) !important;
	color: FieldText !important;
}

input:where([type="text"], [type="search"], [type="password"], [type="url"]),
textarea {
	appearance: none;
	border-style: solid;
	outline: none;
}

.controlBar {
	height: 31px !important;
	background-color: #00000066 !important;
	backdrop-filter: blur(8px);
	margin: 6px;
	border-radius: 8px;

	> .button:enabled:hover,
	> .button:enabled:hover:active {
		fill: #fff !important;
	}
}

.scrubber::-moz-range-thumb {
	height: 17px !important;
	width: 4px !important;
	border-radius: 2px !important;
}

.volumeControl::-moz-range-thumb {
	height: 9px !important;
	width: 9px !important;
}

.bufferBar,
.volumeControl::-moz-range-track {
	background-color: #666 !important;
}

.bufferBar::-moz-progress-bar {
	background-color: #888 !important;
}

.volumeControl::-moz-range-progress,
.progressBar::-moz-progress-bar {
	background-color: #aaa !important;
}

.scrubber:hover::-moz-range-thumb,
.volumeControl:hover::-moz-range-thumb {
	background-color: #fff !important;
}

#eDivResult {
	background: var(--neptune-popover-background) !important;
	backdrop-filter: blur(16px) !important;
	border: 1px solid var(--neptune-toolbar-border-color) !important;
	border-radius: 12px !important;
	box-shadow: var(--neptune-normal-box-shadow) !important;
}